<!DOCTYPE html>
<html lang="ko">
{% load static %}

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta property="og:type" content="website" />
    <title>IT대학 사물함 예약 웹사이트</title>
    <meta property="og:title" content="IT대학 사물함 예약" />
    <meta name="description" content="IT대학 학우들을 위한 사물함 예약 사이트입니다." />
    <meta property="og:description" content="IT대학 학우들을 위한 사물함 예약 사이트입니다." />
    <meta name="keywords" content="숭실대학교, IT대학, 사물함" />
    <meta property="og:image" content="https://i.imgur.com/v2UpZTg.png" />
    <link rel="stylesheet" href="{% static 'main.css' %}" />
    <script src="{% static 'main.js' %}"></script>
</head>

<body>
    <header>
        <h1>IT대학 사물함 예약 웹사이트 3.0</h1>
    </header>

    <nav class="nav">
        <ul>
            <li><span onclick="popupClose('infoPopupDiv')">내 사물함</span></li>
            <li><span onclick="popupClose('registerPopupDiv')">예약 / 변경</span></li>
            <li><span>취소</span></li>
        </ul>
    </nav>

    <main>
        <div id="lockerlistDiv">
            <div id="lockerSelection">
                <select name="Building" id="building" onchange="selectBuilding(this.value)">
                    <option value="">구역을 선택하세요.</option>
                    <optgroup label="형남공학관">
                        <option value="HNA">형남-A</option>
                        <option value="HNB">형남-B</option>
                        <option value="HNC">형남-C</option>
                    </optgroup>
                    <optgroup label="정보과학관">
                        <option value="ISA">정보-A</option>
                        <option value="ISB">정보-B</option>
                        <option value="ISC">정보-C</option>
                    </optgroup>
                    <optgroup label="문화관">
                        <option value="CBA">문화-A</option>
                        <option value="CBB">문화-B</option>
                        <option value="CBC">문화-C</option>
                    </optgroup>
                </select>
            </div>
            {% if locker_list %}
            <table>
                <thead>
                    <tr>
                        <th colspan="5">{{locker_list.values.first.building}}건물 {{locker_list.values.first.sector}}구역
                            사물함 목록
                        </th>
                    </tr>
                </thead>
                <tbody>
                    {% for l in locker_list%}
                    {% if l.building == 'HN' %}
                    <noscript>건물 필터링</noscript>
                    {% if l.sector == 'A'%}
                    <noscript>구역 필터링</noscript>
                    {% if forloop.counter|divisibleby:5 != 0 %}
                    <td>{{l.lockernum}}</td>
                    <tr>
                        {% else %}
                        <td>{{l.lockernum}}</td>
                        {% endif %}
                        {% else %}
                        {%endif%}
                        {% else %}
                        {%endif%}
                        {% endfor %}
                </tbody>
            </table>
            {% else %}
            <p class="warning">오류로 인하여 사물함을 표시할 수 없습니다.</p>
            {% endif %}
        </div>
    </main>

    <div class="popup hidden" id="infoPopupDiv">
        <div class="popupContent" id="infoPopup">
            <button onclick="popupClose('infoPopupDiv')">X</button>
            <span>{이름}님</span>
            <span>현재 예약된 사물함 위치 : {예약한 사물함}</span>
        </div>
    </div>
    <div class="popup hidden" id="registerPopupDiv">
        <div class="popupContent" id="registerPopup">
            <button onclick="popupClose('registerPopupDiv')">X</button>
            <span>선택한 사물함 : {선택한 사물함}</span>
            <button>예약</button>
            <span class="warning">현재 예약된 사물함{예약한 사물함}이 취소됩니다.</span>
        </div>
    </div>

    <footer>
        <p>제작자 : <span><a href="https://github.com/amuguna1mandeum"><img alt="#" src="https://i.imgur.com/vxsETgn.png"
                        style="height:1em;"></img>
                    Github</a></span></p>
    </footer>
</body>

</html>